---
import ThemeToggle from './ThemeToggle.astro';
---

<header class="fixed w-full bg-primary-light/90 dark:bg-primary-dark/90 backdrop-blur-sm z-50 border-b border-gray-200 dark:border-gray-800">
  <div class="container mx-auto flex items-center justify-between h-[100px] px-6 relative z-50">
    <div class="lg:w-[512px]">
      <a href="/" class="font-extralight text-[22px] tracking-[0.81em] leading-[1.2em] inline-block">
        AMATERRA<br />ATELIER
      </a>
    </div>
    
    <!-- Desktop Navigation -->
    <nav class="hidden lg:flex">
      <a href="/projects" class="w-[333px] font-extralight text-[22px] hover:text-accent-light dark:hover:text-accent-dark transition-colors">
        What I Do
      </a>
      <a href="/studio" class="w-[333px] font-extralight text-[22px] hover:text-accent-light dark:hover:text-accent-dark transition-colors">
        Who Am I
      </a>
    </nav>
    <div class="lg:flex lg:w-[102px] justify-center">
      <ThemeToggle />
    </div>

    <!-- Mobile Menu Button -->
    <button
      id="menuButton"
      class="lg:hidden p-2 z-50"
      aria-label="Toggle menu"
    >
      <svg
        id="menuIcon"
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
      <svg
        id="closeIcon"
        class="w-6 h-6 hidden"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"
        />
      </svg>
    </button>
  </div>

  <!-- Mobile Menu Overlay -->
  <div
    id="mobileMenu"
    class="pt-[200px] hidden lg:hidden z-40"
  >
    <nav class="container mx-auto px-6 h-full flex flex-col items-center justify-center space-y-8">
      <a
        href="/projects"
        class="font-extralight text-[22px] hover:text-accent-light dark:hover:text-accent-dark transition-colors border-b border-gray-200"
      >
        What I Do
      </a>
      <a
        href="/studio"
        class="font-extralight text-[22px] hover:text-accent-light dark:hover:text-accent-dark transition-colors border-b border-gray-200"
      >
        Who Am I
      </a>
      <a
        href="/contact"
        class="font-extralight text-[22px] hover:text-accent-light dark:hover:text-accent-dark transition-colors border-b border-gray-200"
      >
        Contact
      </a>
      <!-- This to add spacing before the border -->
      <div class="pt-[200px]">
        
      </div>
    </nav>
  </div>
</header>

<script>
  const menuButton = document.getElementById('menuButton');
  const mobileMenu = document.getElementById('mobileMenu');
  const menuIcon = document.getElementById('menuIcon');
  const closeIcon = document.getElementById('closeIcon');

  menuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
    menuIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
    document.body.classList.toggle('overflow-hidden');
  });
</script>